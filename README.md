# 1 使用方法
程序使用VC6.0  C++语言写的，各位如果使用visual studio，可以把项目中的CPP和头文件复制到你新建的vs中，但是编译器不一样可能会出现一些编译问题，大家有问题解决不了可以直接联系我，一直会帮忙知直到问题解决。
# 2 大家可能遇到的问题
## 2.1 文件中含有中文或中文字符,请确保文件中没有中文以及中文字符
大家在压缩的时候，控制台可能会输出“文件中含有中文或中文字符,请确保文件中没有中文以及中文字符”，这是因为当时老师要求检测文件中是否有中文字符，大家想改的话，直接删掉huffmanhead.cpp中148行到153行的if判断即可。
## 2.2 由于找不到ucrtbased.dll无法继续执行代码
右键解决方案，点击 属性，点击配置属性下的配置，将平台从win32改为x64，点击应用后重试。如果还不行，可以去百度一下。
## 2.3 huf文件乱码问题
大家在打开生成的.huf后缀文件的时候，可能会发现乱码，这是正常现象，可以把这个文件当成压缩文件是，压缩文件可以用于解码，压缩的时候压缩率可能为大于100%，这也是正常现象，常常是因为文件太小或者重复字符太多导致的。
# 3 一些想法
这是我大一的时候写的，刚起步，写的代码确实烂，大家轻喷。
附上了当时写的课程设计报告，大家参考用，可以自己改一改。


# 1 接口返回格式
接口返回JSON格式，具体内容为：
```
JSON
  "name" -> 站台名称
  "info" -> 一个列表，存放所有的设备信息
    "BBZ_D1" -> 以站台名称+ _ + 设备名称  作为键值
      {} 设备信息为一个字典  
    "BBZ_D2"
      {} 设备信息为一个字典
```
设备有信号机、区段、道岔、杂项灯、按钮，每类设备的状态信息字典存放内容不一样，具体为：
### 信号机
|字段名称|类型|含义|
|----|-----|-----|
|name|str|信号机名称(不包含站场名称)|
|isGood|bool|是否有效|
|lampstatus|bool|表示灯状态|
|approachLock|bool|接近锁闭|
|countdown|int|倒计时|
|blockade|bool|是否封锁|
|alarm1DJ|bool|是否1灯位报警|
|alarm2DJ|bool|是否2灯位报警|

### 区段
|字段名称|类型|含义|
|----|-----|-----|
|name|str|信号机名称(不包含站场名称)|
|isGood|bool|是否有效|
|protectLock|bool|保护锁闭|
|locked|bool|锁闭|
|countdown|int|倒计时|
|blockade|bool|封锁|
|occupy|bool|占用|

### 道岔
|字段名称|类型|含义|
|----|-----|-----|
|name|str|信号机名称(不包含站场名称)|
|isGood|bool|是否有效|
|protectLock|bool|保护锁闭|
|locked|bool|锁闭|
|blockade|bool|是否封锁|
|singleLock|bool|单锁|
|occupy|bool|占用|
|position|str|道岔位置|

### 杂项灯
|字段名称|类型|含义|
|----|-----|-----|
|name|str|信号机名称(不包含站场名称)|
|isGood|bool|是否有效|
|lampstatus|bool|表示灯状态|

#### 按钮
|字段名称|类型|含义|
|----|-----|-----|
|name|str|信号机名称(不包含站场名称)|
|isGood|bool|是否有效|
|lampstatus|bool|表示灯状态|
|countdown|int|倒计时|


















